<!DOCTYPE html>
<html lang="pt-BR" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta name="keywords" content="formata√ß√£o, windows, linux, freebsd, bios, uefi, instala√ß√£o, balena, etcher, ventoy, os">
    <meta name="author" content="Cain">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terminocentric</title>
    <!--Social Media Open Graph-->
    <meta property="og:title" content="Terminoc√™ntrismo"/>
    <meta property="og:url" content="https://cain-dev.github.io/default/"/>
    <meta property="og:type" content="article"/>
    <meta property="og:description" content="Toda a facilidade de usar o computador que s√≥ um terminal pode oferecer"/>
    <meta property="og:image" content="https://raw.githubusercontent.com/cain-dev/default/main/assets/images/ogimage.jpg"/>
    <!--/Social Media Open Graph-->
    <!--Links-->
    <link rel="shortcut icon" href="assets/images/cainlogo.ico">
    <link rel="stylesheet" type="text/css"href="../os_style.css">   
    <!--/Links-->
</head>
<body>
    <header id="main-header">
        <ul>
            <li><a href="../index.html">Home</a></li>
            <li><p>@cain-dev</p></li>
            <li><a href="../extra/contact.html">Contato</a></li>
        </ul>
    </header>
	<main id="main-area">
        	<h1>Ambiente Terminoc√™ntrico</h1>
        	<h2>Introdu√ß√£o</h2>
        	<p>Seja pelo fato de ter uma m√°quina antiga e de baixo poder de processamento, seja pela busca de entender o Linux ou simplesmente pela vontade de ser um "I use Arch, btw" user, se voc√™ instalou um Arch com Sway e invejou os rices do Unixporn √© bem provavel que voc√™ notou o fasc√≠nio da comunidade por aplicativos de terminal, que al√©m de serem muito mais r√°pidos tamb√©m PODEM ser muito agrad√°veis est√©ticamente...</p>
		<p>Mas voc√™ n√£o est√° satisfeito em apenas ter uma interface funcionando e usar os mesmos aplicativos de sempre, voc√™ quer um setup terminoc√™ntrico! Mas... N√£o sabe como conseguir ferramentas que substituam perfeitamente o caso de uso atual? Ent√£o esse tutorial √© pra voc·∫Ω!</p>
		<p>Mas antes disso um aviso: <strong>Desse ponto em diante basicamente n√£o tem mais colher de ch√° ou videozinho no youtube pra resolver em 2 comandos, daqui pra frente o que h√° √© leitura de documenta√ß√£o de software e testes, muita leitura, e muitos testes! N√£o existe atalhos!</strong> Se voc√™ est√° tudo bem com isso ent√£o vamos come√ßar:</p>
		<h2><mark>Usecase Target</mark></h2>
		<p>O alvo dessa documenta√ß√£o √© fazer um setup terminoc√™ntrico t√£o capaz quanto o b√°sico de uso de um computador hoje em dia: <mark>Navega√ß√£o</mark> (isso voc√™ j√° tinha antes), <mark>Gerenciamento de arquivos</mark> (abrir, copiar, colar, excluir, visualizar, editar, comprimir, extrair), <mark>Gerenciamento de M√≠dias Remov√≠veis</mark> (automontagem, interface para montar, desmontar, remover), <mark>Edi√ß√£o de C√≥digo</mark> (com visualiza√ß√£o de √°rvore de diret√≥rios)</p>
		<h2>Instala√ß√£o de NerdFonts</h2>
		<p>Escolha e baixe alguma das fontes desse link <a class="link" href="https://www.nerdfonts.com/font-downloads">Aqui</a>, mova as fontes para <mark>/usr/local/share/fonts/otf</mark> ou <mark>/usr/local/share/fonts/ttf</mark>. Os arquivos de fonte precisam ter permiss√µes de leitura suficientes para todos os usu√°rios, ou seja, pelo menos <mark>chmod 444</mark> para arquivos e <mark>555</mark> para diret√≥rios.</p>
		<p>Por √∫ltimo execute o comando abaixo para atualizar o cache de fontconfig</p>
		<code>fc-cache</code>
		<h2>Instala√ß√£o do Terminal, Kitty</h2>
		<code>sudo pacman -S kitty</code>
		<p>Diret√≥rio de configura√ß√£o: <mark>~/.config/kitty/kitty.conf</mark></p>
		<p>Voc√™ pode ver a documenta√ß√£o de configura√ß√£o do Kitty <a class="link" href="https://sw.kovidgoyal.net/kitty/overview/#configuring-kitty">aqui</a></p>
		<p>Voc√™ pode ver a minha configura√ß√£o do Kitty <a class="link" href="https://github.com/cain-dev/dotfiles/blob/main/kitty/kitty.conf">aqui</a></p>
		<p>Caso voc√™ queira instalar um tema recomendo esse reposit√≥rio <a class="link" href="https://github.com/dexpota/kitty-themes">aqui</a></p>
        
        <h2>Instala√ß√£o e configura√ß√£o do Shell, Zsh com Oh-My-Zsh</h2>
        <p>Eu j√° migrei de shell para shell e recentemente tenho usado o <em>Zsh</em>, eu creio que ele √© o que existe de ideal entre customiza√ß√£o e facilidade de uso vs compatibilidade, instale com o comando e siga a configura√ß√£o b√°sica:</p>
        <code>pacman -S zsh</code>
        <p>Instale o framework com o Oh-My-Zsh com o comando abaixo:</p>
        <code>sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"</code>
        <p>Existem 2 plugins que eu considero indispens√°veis para a utiliza√ß√£o de um terminal atualmente, o <em>autosuggestions</em> e o <em>syntax-highlighting</em>, instale eles com os comandos abaixo:</p>
        <code>git clone https://github.com/zsh-users/zsh-autosuggestions.git $ZSH_CUSTOM/plugins/zsh-autosuggestions<br>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git $ZSH_CUSTOM/plugins/zsh-syntax-highlighting</code>
        <p>Acesse o arquivo <em>~/.zshrc</em>, e na linha <em>plugins=(git)</em> adicione os plugins  <em>zsh-syntax-highlighting</em> e <em>zsh-autocomplete</em> para ficar como no exemplo abaixo:</p>
        <code>plugins=(git zsh-syntax-highlighting zsh-autosuggestions)</code>
        <p>Recomendo tamb√©m que configure as op√ß√µes de locale internas do framework, encontre a linha <em>export LANG=en_US.UTF-8</em> e substitua por:</p>
        <code>export LANG=pt_BR.UTF-8</code>
        <p><strong>Lembre-se:</strong> Acesse o arquivo de configura√ß√£o do <em>kitty</em> em <mark>~/.config/kitty/kitty.conf</mark> e sete <em>shell</em> para <em>zsh</em> como no exemplo abaixo:</p>
        <code>shell zsh</code>
        <h2>Instala√ß√£o do Gerenciador de arquivos, Ranger</h2>
		<code>sudo pacman -S ranger atool unzip unrar python-pillow poppler ffmpegthumbnailer</code>
		<p>Voc√™ pode ver a documenta√ß√£o de guia de usu√°rio do Ranger <a class="link" href="https://github.com/ranger/ranger/wiki/Official-user-guide">aqui</a></p>
		<p>Voc√™ pode ver a documenta√ß√£o de Wiki do Ranger <a class="link" href="https://github.com/ranger/ranger/wiki">aqui</a></p>
		<p>Voc√™ pode ver a minha configura√ß√£o do Ranger <a class="link" href="https://github.com/cain-dev/dotfiles/tree/main/ranger">aqui</a></p>
		<p><mark>rc.conf</mark> √© usado para definir v√°rias op√ß√µes e vincular teclas a fun√ß√µes.<br>
		<mark>rifle.conf</mark> decide qual programa usar para abrir um arquivo.<br>
		<mark>scope.sh</mark> √© um script de shell usado para gerar visualiza√ß√µes para v√°rios tipos de arquivo.<br>
		<mark>commands.py</mark> cont√©m a implementa√ß√£o de v√°rias fun√ß√µes, escritas em Python, usadas para modificar o comportamento do ranger e implementar seus pr√≥prios comandos personalizados.</p>
		<p>Use <code>ranger --copy-config=rc</code> ou substitua <mark>rc</mark> por <mark>commands</mark>, <mark>rifle</mark>, ou <mark>scope</mark>, para copiar os arquivos de configura√ß√£o padr√£o para o diret√≥rio <mark>~/.config/ranger</mark> e modific√°-los l√°, apenas copie os arquivos que voc√™ deseja editar.</p>
		<h3>Habilitar √çcones no Ranger</h3>
		<p>Para possibilitar a visualiza√ß√£o de √≠cones no ranger voc√™ pode utilizar o plugin <mark>ranger_devicons</mark>, basta copiar o arquivo <mark>devicons.py</mark> para a pasta de plugins do ranger e adicionar a linha <mark>default_linemode devicons</mark> no <mark>rc.conf</mark> ou utilizar os c√≥digos abaixo:</p>
		<code>git clone https://github.com/cdump/ranger-devicons2 ~/.config/ranger/plugins/devicons2</code>
		<code>echo "default_linemode devicons2" >> $HOME/.config/ranger/rc.conf</code>
		<h3>Habilitar Lixeira e Esvaziamento de Lixeira</h3>
		<p>Primeiramente crie o diret√≥rio da lixeira <mark>~/.local/share/Trash/files/</mark> e mapeie o comando abaixo no <mark>rc.conf</mark></p>
		<code>map DD shell mv %s /home/${USER}/.local/share/Trash/files/</code>
		<p>Em <mark>commands.py</mark> adicione as seguintes lihas:</p>
		<pre><code>
class empty(Command):
	""":empty

	Empties the trash directory ~/.Trash
	"""

	def execute(self):
		self.fm.run("rm -rf /home/${USER}/.local/share/Trash/files/*")
		</code></pre>
		<p>Para limpar a lixeira digite use o comando <code>:empty</code> e tecle <mark>Enter</mark></p>
		<h3>Habilitar Extra√ß√£o de Arquivos</h3>
		<p>Em <mark>commands.py</mark> adicione as seguintes lihas:</p>
		<pre><code>
import os
from ranger.core.loader import CommandLoader

class extract_here(Command):
    def execute(self):
        """ extract selected files to current directory."""
        cwd = self.fm.thisdir
        marked_files = tuple(cwd.get_selection())

        def refresh(_):
            cwd = self.fm.get_directory(original_path)
            cwd.load_content()

        one_file = marked_files[0]
        cwd = self.fm.thisdir
        original_path = cwd.path
        au_flags = ['-x', cwd.path]
        au_flags += self.line.split()[1:]
        au_flags += ['-e']

        self.fm.copy_buffer.clear()
        self.fm.cut_buffer = False
        if len(marked_files) == 1:
            descr = "extracting: " + os.path.basename(one_file.path)
        else:
            descr = "extracting files from: " + os.path.basename(
                one_file.dirname)
        obj = CommandLoader(args=['aunpack'] + au_flags
                            + [f.path for f in marked_files], descr=descr,
                            read=True)

        obj.signal_bind('after', refresh)
        self.fm.loader.add(obj)
		</code></pre>
		<h3>Habilitar Compress√£o de Arquivos</h3>
		<p>Em <mark>commands.py</mark> adicione as seguintes lihas:</p>
		<pre><code>
import os
from ranger.core.loader import CommandLoader

class compress(Command):
    def execute(self):
        """ Compress marked files to current directory """
        cwd = self.fm.thisdir
        marked_files = cwd.get_selection()

        if not marked_files:
            return

        def refresh(_):
            cwd = self.fm.get_directory(original_path)
            cwd.load_content()

        original_path = cwd.path
        parts = self.line.split()
        au_flags = parts[1:]

        descr = "compressing files in: " + os.path.basename(parts[1])
        obj = CommandLoader(args=['apack'] + au_flags + \
                [os.path.relpath(f.path, cwd.path) for f in marked_files], descr=descr, read=True)

        obj.signal_bind('after', refresh)
        self.fm.loader.add(obj)

    def tab(self, tabnum):
        """ Complete with current folder name """

        extension = ['.zip', '.tar.gz', '.rar', '.7z']
        return ['compress ' + os.path.basename(self.fm.thisdir.path) + ext for ext in extension]

		</code></pre>
		<h3>Habilitar Visualiza√ß√£o de Imagens e PDF</h3>
		<p>Para habilitar a visualiza√ß√£o de imagens no Ranger atrav√©s do Kitty adicione essas linhas no <mark>rc.conf</mark></p>
		<code>set preview_images true<br>set preview_images_method kitty</code>
		<p>Para habilitar a visualiza√ß√£o de demais arquivos adicione essas linhas no <mark>rc.conf</mark></p>
		<code>set use_preview_script true</code>
		<p>Para habilitar exibi√ß√£o de thumbnail de v√≠deos habilite as seguintes linhas no <mark>scope.sh</mark>:</p>
		<pre><code>
## Video
video/*)
	# Thumbnail
	ffmpegthumbnailer -i "${FILE_PATH}" -o "${IMAGE_CACHE_PATH}" -s 0 && exit 6
	exit 1;;
		</code></pre>
		<p>Por padr√£o o ranger permite a visualiza√ß√£o de PDF como documento de texto, caso voc√™ queira a visualiza√ß√£o de PDF de maneira gr√°fica descomente e habilite as seguintes linhas no <mark>scope.sh</mark>:</p>
		<pre><code>
## PDF
         application/pdf)
             pdftoppm -f 1 -l 1 \
                      -scale-to-x "${DEFAULT_SIZE%x*}" \
                      -scale-to-y -1 \
                      -singlefile \
                      -jpeg -tiffcompression jpeg \
                      -- "${FILE_PATH}" "${IMAGE_CACHE_PATH%.*}" \
                 && exit 6 || exit 1;;
		</code></pre>
		<h2>Instala√ß√£o do Editor de C√≥digo, Neovim</h2>
		<p>Antes de mais nada instalaremos o Neovim com</p>
		<code>sudo pacman -S neovim</code>
		<p>Para acesso r√°pido no gerenciador de arquivos √© interessante definir o Neovim como editor padr√£o nas vari√°veis de ambiente, para isso declare a seguinte vari√°vel</mark></p>
		<code>EDITOR=nvim</code>
		<p>Com isso basta mapear um atalho para edi√ß√£o de arquivo (no meu caso eu uso a tecla e: <mark>map e edit</mark>)</p>
		<h3>Habilitar plugins com o vim-plug</h3>
		<p>O Neovim (ou o Vim original ou mesmo alguma outra vers√£o) √© quase que uma religi√£o, √© uma ferramenta poderos√≠ssima e absurdamente extens√≠vel e leve, existem diversas maneiras de incrementar o Neovim mas uma das (se n√£o a) mais populares √© atrav√©s do gerenciador de plugins <mark>vim-plug</mark>. Para instalar o vim-plug baixe o arquivo desse endere√ßo <a class="link" href="https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim">aqui</a>, basta salva-lo como o arquivo <mark>plug.vim</mark> na pasta <mark>~/.config/nvim/autoload</mark>.</p>
		<p>Agora √© interessante preparar o arquivo de configura√ß√£o do Neovim que fica em <mark>~/.config/nvim/init.vim</mark>. Para instalar plugins basta adicionar o link do plugin nesse arquivo como no exemplo abaixo e usar o comando <mark>:PlugInstall</mark> no Neovim.</p>
		<pre><code>
" in√≠cio da fun√ß√£o 
call plug#begin()
" adicione aqui os links dos plugins que voc√™ deseja
Plug 'https://github.com/vim-airline/vim-airline'
Plug 'https://github.com/ryanoasis/vim-devicons'
Plug 'https://github.com/sainnhe/sonokai'
Plug 'https://github.com/preservim/nerdtree'
call plug#end()
		</code></pre>
		<p>Inclusive esses s√£o os plugins que eu recomendo, caso voc√™ queira ver o meu arquivo de configura√ß√£o basta acessar esse link <a class="link" href="https://github.com/cain-dev/dotfiles/blob/main/nvim/init.vim">aqui</a><p>
		<h3>Habilitar clipboard no Neovim</h3>
		<p>Uma fun√ß√£o indispens√°vel para a edi√ß√£o de arquivos √© acesso ao clipboard do sistema, para isso √© importante que voc√™ tenha alguma ferramenta para tal, se voc√™ estiver usando o <mark>X11</mark> voc√™ deve instalar o <mark>xclip</mark> se voc√™ estiver usando <mark>Wayland</mark> voc√™ deve instalar o <mark>wl-clipboard</mark>, e por fim voc√™ deve adicionar a linha abaixo no arquivo de configura√ß√£o do Neovim</p>
		<code>set clipboard=unnamedplus</code>

        	<!--
			<a class="link" href="https://"></a>
		-->
        </main>
    <footer id="main-footer">
        <p>Est√° p√°gina ainda est√° em constru√ß√£o üöß<br>(Atualizada pela √∫ltima vez em 01/05/2022)</p>
        <a class="link" href="index.html">Retornar para a p√°gina principal</a>
    </footer>
</body>
</html>
