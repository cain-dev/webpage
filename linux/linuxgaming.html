<!DOCTYPE html>
<html lang="pt-BR" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta name="keywords" content="formatação, windows, linux, freebsd, bios, uefi, instalação, balena, etcher, ventoy, os">
    <meta name="author" content="Cain">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogos no Linux</title>
    <!--Social Media Open Graph-->
    <meta property="og:title" content="Jogos no Linux"/>
    <meta property="og:url" content="https://cain-dev.github.io/"/>
    <meta property="og:type" content="article"/>
    <meta property="og:description" content="Quer jogar no Linux mas não sabe por onde começar? Este mini-guia é para você!"/>
    <meta property="og:image" content="https://raw.githubusercontent.com/cain-dev/default/main/assets/images/ogimage.jpg"/>
    <!--/Social Media Open Graph-->
    <!--Links-->
    <link rel="shortcut icon" href="../assets/images/cainlogo.ico">
    <link rel="stylesheet" type="text/css"href="../os_style.css">   
    <!--/Links-->
</head>
<body>
    <header id="main-header">
        <ul>
            <li><a href="../index.html">Home</a></li>
            <li><p>@cain-dev</p></li>
            <li><a href="../extra/contact.html">Contato</a></li>
        </ul>
    </header>
	<main id="main-area">
    <h1><i>"Mas Linux roda jogos?"</i></h1>
    <h2>Introdução</h2>
    <p>Foi se o tempo em que rodar jogos de PC no Linux era algo raro, hoje em dia não só temos clientes para a maioria das plataformas como até mesmo temos consoles baseados em Linux (como o SteamDeck da Valve). Para a maioria esmagadora dos títulos (certamente os que você mais gosta, os de longa data) basta utilizar uma camada de compatibilidade com Wine, Proton e DXVK e tá tudo certo.</p>
    <h2>Entendendo o básico</h2>
    <h3>Mas o que é Wine?</h3>
    <p>Wine não é um emulador, mas sim uma camada de compatibilidade que permite que você execute aplicações do Windows no Linux e demais sistemas Unixlike. Você pode verificar o estado da compatibilidade com a sua biblioteca de software através desse link <a class="link" href="https://appdb.winehq.org/">WineHQ</a>.</p>
    <p>De todas as ferramentas para gerenciar versões e ambientes do Wine eu creio que de longe a mais simples seja o Bottles, você provavelmente vai achar na lojinha da sua distribuição ou pode instalar o flatpak através do comando:</p>
    <code>flatpak install flathub com.usebottles.bottles</code>
    <h3>O que é Proton?</h3>
    <p>Proton é uma camada de compatibilidade desenvolvida pela Valve especifica para jogos do Windows rodarem em sistemas operacionais baseados em Linux. Embora não seja perfeita é muito competente, você pode verificar o estado da compatibilidade com a sua biblioteca de  jogos através desse link <a class="link" href="https://www.protondb.com/">ProtonDB</a>.</p>
    <h3>DXVK?</h3>
    <p>É uma ferramenta que interpreta as chamadas de API DirectX e as converte para Vulkan, em alguns casos aumentando de forma notável o desempenho.</p>
    <h3>E VKD3D?</h3>
    <p>Basicamente a mesma coisa porém específico para DirectX12.</p>
    <h3>Configurando o Bottles</h3>
    <p>O Bottles vai te ajudar a genrenciar os ambientes Wine que você deseja criar, ele cria "garrafas" (bela sacada inclusive), antes de mais nada então clique no <em>+</em> para criar uma garrafa.</p>
    <img class="responsiva" src="../assets/images/linux/linuxgaming/bottles01.png" alt="">
    <p>Você pode então dar o nome para este ambiente, deixar uma configuração genérica para Aplicativos desktop, uma configuração genérica para jogos ou selecionar os componentes desejados. (Se você só vai instalar jogos, selecione o ambiente "Jogos" e configura o resto depois caso seja necessário).</p>
    <img class="responsiva" src="../assets/images/linux/linuxgaming/bottles02.png" alt="">
    <p>Vamos supor que você queira instalar um launcher como o <em>Ubisoft Connect</em>, clique em <em>Instalar Programas...</em>...</p>
    <img class="responsiva" src="../assets/images/linux/linuxgaming/bottles03.png" alt="">
    <p>Note que já existe alguns scripts de instalação para os programas mais comuns.</p>
    <img class="responsiva" src="../assets/images/linux/linuxgaming/bottles04.png" alt="">
    <p>Selecionando a opção <em>Dependências</em> você também pode instalar as dependências mais comuns.</p>
    <img class="responsiva" src="../assets/images/linux/linuxgaming/bottles05.png" alt="">
    <p>Ao selecionar o menu <em>Configurações</em> você pode alterar o <em>runner</em>, a versão do <em>DXVK</em>, do <em>VKD3D</em>, ativar a opção de uso da placa de vídeo dedicada... </p>
    <img class="responsiva" src="../assets/images/linux/linuxgaming/bottles06.png" alt="">
    <p>Indo em <em>Configurações > Gerenciar Unidades</em> você pode dispor diretórios do seu sistema Linux como pontos de partida para discos do Wine, muito útil caso queira instalar os jogos em um diretório específico no seu pc.</p>
    <img class="responsiva" src="../assets/images/linux/linuxgaming/bottles07.png" alt="">
    <p>O Bottles já dispõe de ferramentas de atualização de componentes...</p>
    <img class="responsiva" src="../assets/images/linux/linuxgaming/bottles08.png" alt="">
    <p>E sim isso quer dizer que você pode atualizar tanto o <em>Proton-GE</em> quando o <em>DXVK</em> e <em>VKD3D</em> através do próprio Bottles.</p>
    <img class="responsiva" src="../assets/images/linux/linuxgaming/bottles09.png" alt="">
    <h2>Iniciando aplicativos de uma garrafa através de atalhos feitos a mão.</h2>
    <p>O Bottles tem a capacidade de criar atalhos na sua área de trabalho (se ele tiver as devidas permissões para isso), mas vamos supor que você tenha criado uma garrafa com o nome <em>ubisoft_connect</em> e nela você tenha adicionado o atalho para o <em>XDefiant</em> e queira iniciá-lo diretamente, e caso clique com o botão direito em cima desse ícone você vai direto para a janela de configuração do Bottles, para isso crie um arquivo com o nome de <em>XDefiant.desktop</em> em <em>~/.local/share/applications/</em> com o conteúdo conforme o exemplo abaixo:</p>
<code><pre>
[Desktop Entry]
Name=XDefiant
Exec=flatpak run --command=bottles-cli com.usebottles.bottles run -p 'XDefiant' -b 'ubisoft_connect'
Type=Application
Terminal=false
Categories=Game;
Icon=applications-games
Comment=Inicia XDefiant usando o Bottles.
Actions=Configure;
[Desktop Action Configure]
Name=Configurar no Bottles
Icon=com.usebottles.bottles
Exec=flatpak run --command=bottles-cli com.usebottles.bottles -b 'ubisoft_connect'
</pre></code>
    <h3>Como instalar a Steam?</h3>
    <p>Pelo fato da Valve ter adotado o Linux, na grande maioria das distribuições você vai encontrar um pacote nativo para a Steam na lojinha de aplicativos da sua distro, caso a sua distribuição não tenha um pacote nativo você pode instalar através do <em>Flatpak</em> com o comando:</p>
    <code>flatpak install flathub com.valvesoftware.Steam</code>
    <p>Pronto! Uma vez que a Steam está instalada, basta clicar com o botão direito no jogo que você quer, selecionar <em>Propriedades...</em>, depois <em>Compatibilidade</em> e marcar a caixa <em>Usar ferramenta de compatibilidade</em> e selecionar a versão desejada do Proton.</p>
    <h3>Quem caralhos é GloriousEggroll? Como instalar Proton-GE na Steam?</h3>
    <p>GloriousEggroll é o responsável pela distribuição Linux Nobara, uma distro feita para jogos que recebe inúmeras modificações e atualizações especificas para isso. Em diversos casos a sua versão específica do Proton (o ProtonGE) roda melhor que a da própria Steam! Para instalar a sua versão do Proton acesso o Github do GloriousEggroll através desse link <a class="link" href="https://github.com/GloriousEggroll/proton-ge-custom/releases">aqui</a>. Baixe a última versão do Proton-GE (arquivo <em>GE-ProtonX-XX.tar.gz</em>), extraia esse arquivo para pasta e coloque em <mark>/home/SEU_USER/.steam/root/compatibilitytools.d</mark>. Feche e abra novamente a Steam, a versão do ProtonGE vai ser visível no menu de seleção <em>"Ferramenta de compatibilidade"</em>.</p>
    <h3>E para jogos da Amazon, Epic e GOG?</h3>
    <p>Para esses casos você pode usar o <em>Heroic Games Launcher</em>, na grande maioria das distribuições você vai encontrar um pacote nativo na lojinha de aplicativos da sua distro, caso a sua distribuição não tenha um pacote nativo você pode instalar através do <em>Flatpak</em> com o comando:</p>
    <code>flatpak install flathub com.heroicgameslauncher.hgl</code>
    <img class="responsiva" src="../assets/images/linux/linuxgaming/heroic01.png" alt="">
    <p>Uma vez que o Heroic está instalado basta ir em <em>Gerenciar Contas</em> e logar na loja que você deseja usar.</p>
    <img class="responsiva" src="../assets/images/linux/linuxgaming/heroic02.png" alt="">
    <p>Uma vez conectado toda a sua biblioteca será visível.</p>
    <h3>Mas o jogo (x que usa anticheat) não funciona!</h3>
    <p>Bom, hoje em dia o Linux já tem tudo o que é necessário para rodar jogos, sem contar que mesmo para o desenvolvedor de jogos para Windows pode fazer com que seu jogo rode no Linux hoje sem muita dor de cabeça, porém algumas ferramentas de anticheat mais intrusivas simplesmente não dão suporte ao Linux, para verificar o suporte de anticheat para a sua biblioteca você pode acessar <a class="link" href="https://areweanticheatyet.com/">Are we anticheat yet?</a>.</p>
    <h3>Permissões do Flatpak</h3>
    <p>O Flakpak é baseado no conceito de <em>sandboxing</em> então nem todo aplicativo pode acessar todo diretório ou todo recurso (como internet, por exemplo), se você quiser uma configuração mais visual você pode instalar o Flatseal com o comando abaixo:</p>
    <p><em>*</em> Lembrando que caso você esteja usando o KDE você pode apenas instalar o pacote <em>flatpak-kcm</em> e ter a mesma funcionalidade, não sendo necessário a instalação do Flatseal.</p>
    <code>flatpak install flathub com.github.tchx84.Flatseal</code>
    <p>Mas se você (assim como eu) quiser fazer manualmente você pode editar diretamente os arquivos de <i>override</i> se tiver o id do aplicativo.  Para listar os aplicativos flatpak instalados execute o comando:</p>
    <code>flatpak list --app</code>
    <p> Para criar um override precisamos do <em>ID do aplicativo</em>, que no caso do Bottles é <em>com.usebottles.bottles</em>. O recomendado é liberar as permissões a nível de usuário para cada aplicação, no caso seria o diretório <em>~/.local/share/flatpak/overrides/<mark>id_do_aplicativo</mark></em> (não é nada recomendado mas você também pode liberar a nível de sistema <em>/var/lib/flatpak/overrides/<mark>id_do_aplicativo</mark></em>). Vamos supor que queremos permitir gravação e leitura ao diretório <em>/mnt/HD/games</em> para o Bottles, para isso crie o arquivo <em>~/.local/share/flatpak/overrides/<mark>com.usebottles.bottles</mark></em> e insira o conteúdo:</p>
<code><pre>
[Context]
filesystems=/mnt/HD/games:rw;    
</pre></code>
    <p>Para verificar os overrides existentes para o usuário basta usar o comando abaixo:</p>
    <code>flatpak override <em>--user</em> --show <em>com.usebottles.bottles</em></code>
    <p><em>*</em> remova o <em>--user</em> caso queira ver os overrides de sistema.</p>
    <h2>E para gravar as as gameplays?</h2>
    <p>Obviamente vai ser com o <em>OBS Studio</em>, mas se você tentou gravar direto ao menos uma vez deve ter quebrado a cara com a performance e qualidade do vídeo, que por padrão são péssimas no Linux! Mas a verdade é que ter uma gravação de baixa latência e qualidade de ponta é bem mais fácil do que parece.</p>
    <p>Bom, a primeira coisa que precisamos é o <em>OBS</em>, que pode ser facilmente instalado via flatpak com o comando:</p>
    <code>flatpak install flathub com.obsproject.Studio</code>
    <p>Ok, uma vez que temos o <em>OBS</em> precisamos do <em>OBS VAAPI</em>, que vai criar a interface de captura, você pode instalar ele através do pacote:</p>
    <code>flatpak install com.obsproject.Studio.Plugin.GstreamerVaapi</code>
    <p>Se tiver usando Arch Linux com yay você pode usar o comando:</p>
    <code>yay -S obs-vaapi</code>
    <p>OU usar um pacote pré-compilado ou mesmo compilar na sua máquina visitando o <a class="link" href="https://github.com/fzwoch/obs-vaapi">OBS VAAPI no Github</a>.</p>
    <p>Por fim podemos instalar o <em>OBS-VKCAPTURE</em>, que pode ser facilmente instalado via flatpak com o comando:</p>
    <code>flatpak install com.obsproject.Studio.Plugin.OBSVkCapture</code>
    <p>Se tiver usando Arch Linux com yay você pode usar o comando:</p>
    <code>yay -S obs-vkcapture-git lib32-obs-vkcapture-git</code>
    <p>OU usar um pacote pré-compilado ou mesmo compilar na sua máquina visitando o <a class="link" href="https://github.com/nowrep/obs-vkcapture">OBS-VKCAPTURE no Github</a>.</p>
    <h3>Configurando o OBS</h3>
    <p>Para utilizar a interface OBS-VKCAPTURE nova abra o OBS e adicione a fonte <em>Captura de Jogo</em>, você não precisa selecionar nenhuma janela específica, basta deixar marcado <em>Capturar qualquer janela</em>, você pode desmarcar a gravação do cursor se assim desejar.</p>
    <img class="responsiva" src="../assets/images/linux/linuxgaming/obs1.png" alt="">
    <p>Para utilizar a interface OBS-VAAPI nova abra o OBS, vá em <em>Configurações > Saída > Modo de saída: Avançado > Gravação</em> e em <em>Encoder de vídeo:</em> selecione uma das opções <em>VAAPI AV1, VAAPI H.264, VAAPI H.265</em> conforme a compatibilidade da sua placa.</p>
    <img class="responsiva" src="../assets/images/linux/linuxgaming/obs2.png" alt="">
    <p>Para apresentar o jogo como "capturável" para o OBS pasta adicionar o argumento abaixo nas opções de lançamento:</p>
    <code>obs-gamecapture %command%</code>
    <img class="responsiva" src="../assets/images/linux/linuxgaming/obs3.png" alt="">
    <p><strong>*</strong> <i>Sim, a adição desse argumento também funciona no Heroic Game Launcher...</i> </p>
    <p>Você pode iniciar o jogo utilizando apenas a captura via Vulkan habilitada com o argumento:</p>
    <code>env OBS_VKCAPTURE=1 %command%</code>
    <p>Se você fez tudo certinho as chances são que você vai ter uma excelente qualidade de imagem com baixo uso de recursos e latência.</p>
    <h2>Mas eu quero ver meus FPS!</h2>
    <img class="responsiva" src="https://lh4.googleusercontent.com/rQvu-YpmOGOS92DAOgeXNQwWVh_2vGXv4wWrlvf5nUTUKTpWrgBtliAI-Bw8Jxf1RtP3gB1cEzM_HYuho_lC8B6Mj62OUWqxrJmpZE166sLGVXmXlTm8Vuygu4e326JCv0PsVvoA" alt="">
    <p>A ferramenta padrão para isso no Linux é o MangoHud, você pode instalar usando o comando:</p>
    <code>flatpak install org.freedesktop.Platform.VulkanLayer.MangoHud</code>
    <p>Caso queira habilitá-lo para todos os jogos da Steam você pode usar o comando:</p>
    <code>flatpak override --user --env=MANGOHUD=1 com.valvesoftware.Steam</code>
    <p>Caso queira iniciar o MangoHud na execução do jogo basta adicionar <em>MANGOHUD=1 %command%</em> na linha de argumentos do jogos.</p>
    <p>Para ver as opções de configuração da sua HUD você pode ver as variáveis através <a class="link" href="https://github.com/flightlessmango/MangoHud?tab=readme-ov-file#environment-variables">deste link</a>.</p>
    </main>
    <footer id="main-footer">
        <p>Está página ainda está em construção 🚧</p>
        <a class="footerlink" href="#main-header">↑ Retornar ao topo ↑</a>
    </footer>
</body>
</html>
